<app-loading [fixed]="true" [loading]="true" *ngIf="isLoading"></app-loading>
<mat-toolbar [ngClass]="{'hide': !isTop}" class="fixed">
    <span class="logo" (click)="navigateToHome()">
        <img src="../../../assets/Logo.svg" alt="logo" width="60px">
        <span class="write">Write</span>
        <span class="flow">Flow</span>
    </span>
    <span class="spacer"></span>
    <span>
        <a href="/community">Community</a>
        <a href="/support">Support</a>
        <a href="/about">About</a>
    </span>
    <span class="spacer"></span>
    <span>
        <span *ngIf="!user; else isLogged">
            <button mat-button class="button register">Register</button>
            <button mat-button class="button login" (click)="openDialogLogin()">Login</button>
        </span>
        <ng-template #isLogged>
            <span>
                <button mat-button class="button logout" (click)="logout()">Logout</button>
                <img class="avatar" [matMenuTriggerFor]="usermenu" [src]="userPhoto || this.user?.photoURL"
                    [alt]="user?.displayName" referrerpolicy='no-referrer'>
                <mat-menu #usermenu="matMenu">
                    <button mat-menu-item [routerLink]="['/profile', user?.uid]">
                        <mat-icon>person</mat-icon>
                        <span>My Account</span>
                    </button>
                    <button class="menu-item" mat-menu-item [routerLink]="['/main']">
                        <mat-icon>description</mat-icon>
                        <span>My Documents</span>
                    </button>
                    <button class="menu-item" mat-menu-item>
                        <mat-icon>settings</mat-icon>
                        <span>Settings</span>
                    </button>
                    <button class="menu-item" mat-menu-item (click)="logout()">
                        <mat-icon>exit_to_app</mat-icon>
                        <span>Logout</span>
                    </button>
                </mat-menu>
            </span>
        </ng-template>
    </span>
</mat-toolbar>