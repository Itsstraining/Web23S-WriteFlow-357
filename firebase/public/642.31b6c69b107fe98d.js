"use strict";(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[642],{1594:(at,A,c)=>{c.d(A,{N:()=>T});var l=c(4650),v=c(6895);const b=["container"];function N(O,C){if(1&O&&(l.TgZ(0,"div",1,2),l._UZ(2,"object",3),l.TgZ(3,"h1"),l._uU(4),l.qZA()()),2&O){const _=l.oxw();l.xp6(4),l.hij(" ",null==_.inputData?"Loading...":_.inputData,"")}}class T{constructor(){this.loading=!1,this.fixed=!1}ngOnInit(){}ngAfterViewInit(){if(this.fixed)try{this.container.last.nativeElement.style.position="fixed"}catch{}}}T.\u0275fac=function(C){return new(C||T)},T.\u0275cmp=l.Xpm({type:T,selectors:[["app-loading"]],viewQuery:function(C,_){if(1&C&&l.Gf(b,5),2&C){let t;l.iGM(t=l.CRH())&&(_.container=t)}},inputs:{inputData:"inputData",loading:"loading",fixed:"fixed"},decls:1,vars:1,consts:[["class","center",4,"ngIf"],[1,"center"],["container",""],["data",l.$Z9`../../../assets/Loading.svg`,"type","image/svg+xml","width","150px"]],template:function(C,_){1&C&&l.YNc(0,N,5,1,"div",0),2&C&&l.Q6J("ngIf",_.loading)},dependencies:[v.O5],styles:[".center[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:9999}object[_ngcontent-%COMP%]{margin-left:50px}h1[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;padding-top:30px;font-size:20px;font-weight:700;color:#310e92;margin:0;animation:_ngcontent-%COMP%_heartBeart 1s linear infinite}@keyframes _ngcontent-%COMP%_heartBeart{0%{opacity:.3}50%{opacity:1}to{opacity:.3}}"]})},7642:(at,A,c)=>{c.r(A),c.d(A,{MainModule:()=>S});var l=c(6895),v=c(1021),b=c(5861),N=c(3103),T=c(7272),O=c(7389),C=c(2149),_=c(5938),t=c(4650),u=c(9101),y=c(9549),I=c(4144),P=c(4006);class L{constructor(n,e){this.dialogRef=n,this.data=e}ngOnInit(){this.tempName=this.data.name}onNoClick(){this.dialogRef.close()}onYesClick(){this.dialogRef.close(this.tempName)}}L.\u0275fac=function(n){return new(n||L)(t.Y36(_.so),t.Y36(_.WI))},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-edit-name"]],decls:14,vars:2,consts:[[1,"container"],[1,"header"],[1,"editor"],["appearance","outline"],["matInput","","rows","15","cols","30","maxlength","30",3,"ngModel","ngModelChange","keydown.enter"],[1,"btn"],["mat-stroked-button","",3,"click"],["mat-raised-button","",1,"save",3,"mat-dialog-close"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Edit Name"),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"input",4),t.NdJ("ngModelChange",function(r){return e.tempName=r})("keydown.enter",function(){return e.onYesClick()}),t.qZA()()(),t.TgZ(9,"div",5)(10,"button",6),t.NdJ("click",function(){return e.onNoClick()}),t._uU(11,"Cancel"),t.qZA(),t.TgZ(12,"button",7),t._uU(13,"Save"),t.qZA()()()),2&n&&(t.xp6(8),t.Q6J("ngModel",e.tempName),t.xp6(4),t.Q6J("mat-dialog-close",e.tempName))},dependencies:[u.lW,y.KE,y.hX,I.Nt,_.ZT,P.Fj,P.JJ,P.nD,P.On],styles:[".container[_ngcontent-%COMP%]{padding:2rem}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;color:var(--color-4);margin-bottom:1rem;margin-top:.5rem}.container[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.container[_ngcontent-%COMP%] > .editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;width:100%}.container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;color:var(--color-4);font-weight:700;font-size:1.1em;padding:1.5rem}.container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] > .save[_ngcontent-%COMP%]{background-color:var(--color-1)}"]});class z{constructor(n,e){this.data=n,this.dialogRef=e}close(){this.dialogRef.close()}}z.\u0275fac=function(n){return new(n||z)(t.Y36(_.WI),t.Y36(_.so))},z.\u0275cmp=t.Xpm({type:z,selectors:[["app-notify-dialog"]],decls:10,vars:1,consts:[[1,"header"],[1,"general"],["mat-button","",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"h2"),t._uU(3,"Notify"),t.qZA()(),t.TgZ(4,"div",1)(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"div")(8,"button",2),t.NdJ("click",function(){return e.close()}),t._uU(9,"Close"),t.qZA()()()()),2&n&&(t.xp6(6),t.Oqu(e.data))},dependencies:[u.lW,_.xY],styles:['@import"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;1,300&display=swap";*[_ngcontent-%COMP%]{transition:all .2s ease-in-out}mat-dialog-content[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;padding:2rem!important;min-width:600px}mat-dialog-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:100%;font-size:1.5rem;font-weight:600;margin:1rem 0rem;color:var(--color-4)}mat-dialog-content[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .full-width[_ngcontent-%COMP%]{width:100%;font-size:1rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > mat-select[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-4);font-size:1rem;box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.25);margin:1rem;width:100%;border-radius:10px}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:1.5rem 1rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > mat-select[_ngcontent-%COMP%]{padding:0rem 1rem;height:3rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%] > .access-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]{margin-bottom:2rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%]{padding:0rem 1rem;width:calc(100% - 2rem);max-height:140px;overflow-y:auto}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > .empty[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:1rem;height:100px}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:1rem;width:inherit}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-4)}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:1rem;color:rgba(var(--color-4-rgb),.5)}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .select[_ngcontent-%COMP%]{padding-right:1rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{padding:0rem 1rem;height:2rem;background-color:var(--color-1);box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.25);border-radius:10px}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-top:1rem;width:100%}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%] > .select[_ngcontent-%COMP%]{padding-right:1rem}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-4);font-size:1rem;font-weight:500;padding:1.5rem 1rem;box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.25)}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--color-4)}  .mat-mdc-select-trigger{height:100%}  .mat-mdc-select-value{color:var(--color-4)}@media screen and (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{min-width:100%}mat-dialog-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .full-width[_ngcontent-%COMP%]{font-size:.8rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{flex-direction:column}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > mat-select[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;margin:.5rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:1.25rem 1rem}mat-dialog-content[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%] > mat-select[_ngcontent-%COMP%]{width:calc(100% - 2rem);padding:0rem 1rem;height:2.5rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%]{padding:0rem .2rem;width:calc(100% - .4rem)}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > .empty[_ngcontent-%COMP%]{font-size:.8rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-direction:column}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:1rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{margin:.2rem 0rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.8rem}mat-dialog-content[_ngcontent-%COMP%] > .access[_ngcontent-%COMP%]   .access-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:.8rem}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%]{flex-direction:column}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;font-weight:500}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600}mat-dialog-content[_ngcontent-%COMP%] > .general[_ngcontent-%COMP%] > .edit-permission[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:.8rem}}']});var Mt=c(5085),ct=c(3115),vt=c(9709),F=c(6897),Q=c(7556),lt=c(3683),D=c(7392),w=c(457),W=c(266);const it={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},dt=new t.OlP("config",{providedIn:"root",factory:()=>({modules:it})});var K=c(1481),Ot=c(9770),Pt=c(9751),ut=c(576);function bt(i){return!!i&&(i instanceof Pt.y||(0,ut.m)(i.lift)&&(0,ut.m)(i.subscribe))}var xt=c(6805),yt=c(930);function Tt(i,n){const e="object"==typeof n;return new Promise((o,r)=>{const s=new yt.Hp({next:a=>{o(a),s.unsubscribe()},error:r,complete:()=>{e?o(n.defaultValue):r(new xt.K)}});i.subscribe(s)})}var wt=c(727),ot=c(4968),Zt=c(7579),Et=c(6063);class Ut extends Zt.x{constructor(n=1/0,e=1/0,o=Et.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:o,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(o.push(n),!r&&o.push(s.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!n.closed;a+=o?1:2)n.next(s[a]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:r}=this,s=(r?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!r){const a=e.now();let d=0;for(let h=1;h<o.length&&o[h]<=a;h+=2)d=h;d&&o.splice(0,d+1)}}}var kt=c(3099),mt=c(5577),gt=c(8372);function Dt(i,n){1&i&&t._UZ(0,"div",2)}function qt(i,n){1&i&&t._UZ(0,"pre",2)}function St(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Dt,1,0,"div",1),t.YNc(2,qt,1,0,"pre",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.preserve),t.xp6(1),t.Q6J("ngIf",e.preserve)}}function Nt(i,n){1&i&&t._UZ(0,"div",2)}function It(i,n){1&i&&t._UZ(0,"pre",2)}function Lt(i,n){if(1&i&&(t.ynx(0),t.YNc(1,Nt,1,0,"div",1),t.YNc(2,It,1,0,"pre",1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.preserve),t.xp6(1),t.Q6J("ngIf",e.preserve)}}const zt=[[["","quill-editor-toolbar",""]]],Ft=["[quill-editor-toolbar]"];function Qt(i,n){1&i&&t._UZ(0,"div",1)}function Jt(i,n){1&i&&t._UZ(0,"pre",1)}const J=(i,n)=>i||n||"html";let X=(()=>{class i{constructor(e,o){var r=this;this.config=o,this.quill$=(0,Ot.P)((0,b.Z)(function*(){if(!r.Quill){const s=r.document.addEventListener;r.document.addEventListener=r.document.__zone_symbol__addEventListener||r.document.addEventListener;const a=yield c.e(971).then(c.t.bind(c,9971,19));r.document.addEventListener=s,r.Quill=a.default?a.default:a}return r.config.customOptions?.forEach(s=>{const a=r.Quill.import(s.import);a.whitelist=s.whitelist,r.Quill.register(a,!0,r.config.suppressGlobalRegisterWarning)}),yield r.registerCustomModules(r.Quill,r.config.customModules,r.config.suppressGlobalRegisterWarning)})).pipe(function At(i,n,e){let o,r=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=i):o=i??1/0,(0,kt.B)({connector:()=>new Ut(o,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0})),this.document=e.get(l.K0),this.config||(this.config={modules:it})}getQuill(){return this.quill$}registerCustomModules(e,o,r){return(0,b.Z)(function*(){if(Array.isArray(o))for(let{implementation:s,path:a}of o)bt(s)&&(s=yield Tt(s)),e.register(a,s,r);return e})()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.zs3),t.LFG(dt,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Rt=(()=>{class i{constructor(e,o,r,s,a,d,h,x){this.elementRef=o,this.cd=r,this.domSanitizer=s,this.platformId=a,this.renderer=d,this.zone=h,this.service=x,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new t.vpe,this.onEditorChanged=new t.vpe,this.onContentChanged=new t.vpe,this.onSelectionChanged=new t.vpe,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(m,g)=>{let p=g.querySelector(".ql-editor").innerHTML;("<p><br></p>"===p||"<div><br></div>"===p)&&(p=this.defaultEmptyValue);let f=p;const E=J(this.format,this.service.config.format);if("text"===E)f=m.getText();else if("object"===E)f=m.getContents();else if("json"===E)try{f=JSON.stringify(m.getContents())}catch{f=m.getText()}return f},this.valueSetter=(m,g)=>{const p=J(this.format,this.service.config.format);if("html"===p)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(g=this.domSanitizer.sanitize(t.q3G.HTML,g)),m.clipboard.convert(g);if("json"===p)try{return JSON.parse(g)}catch{return[{insert:g}]}return g},this.selectionChangeHandler=(m,g,p)=>{const f=!m&&!!this.onModelTouched;!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!f||this.zone.run(()=>{null===m?this.onBlur.emit({editor:this.quillEditor,source:p}):null===g&&this.onFocus.emit({editor:this.quillEditor,source:p}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:g,range:m,source:p}),f&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(m,g,p)=>{const f=this.quillEditor.getText(),E=this.quillEditor.getContents();let U=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===U||"<div><br></div>"===U)&&(U=this.defaultEmptyValue);const k=this.trackChanges||this.service.config.trackChanges,Ct=("user"===p||k&&"all"===k)&&!!this.onModelChange;!this.onContentChanged.observed&&!Ct||this.zone.run(()=>{Ct&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:E,delta:m,editor:this.quillEditor,html:U,oldDelta:g,source:p,text:f}),this.cd.markForCheck()})},this.editorChangeHandler=(m,g,p,f)=>{if(this.onEditorChanged.observed)if("text-change"===m){const E=this.quillEditor.getText(),U=this.quillEditor.getContents();let k=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===k||"<div><br></div>"===k)&&(k=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:U,delta:g,editor:this.quillEditor,event:m,html:k,oldDelta:p,source:f,text:E}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:m,oldRange:p,range:g,source:f}),this.cd.markForCheck()})},this.document=e.get(l.K0)}static normalizeClassNames(e){return e.trim().split(" ").reduce((r,s)=>{const a=s.trim();return a&&r.push(a),r},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,l.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,mt.z)(e=>{const o=[this.service.registerCustomModules(e,this.customModules)],r=this.beforeRender??this.service.config.beforeRender;return r&&o.push(r()),Promise.all(o).then(()=>e)})).subscribe(e=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const o=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules||this.service.config.modules);o?r.toolbar=o:void 0===r.toolbar&&(r.toolbar=it.toolbar);let s=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===s&&(s="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(p=>{this.renderer.setStyle(this.editorElem,p,this.styles[p])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(p=>{const f=e.import(p.import);f.whitelist=p.whitelist,e.register(f,!0)});let a=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;a||(a=this.service.config.bounds?this.service.config.bounds:this.document.body);let d=this.debug;!d&&!1!==d&&this.service.config.debug&&(d=this.service.config.debug);let h=this.readOnly;!h&&!1!==this.readOnly&&(h=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let x=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(x=this.service.config.defaultEmptyValue);let m=this.scrollingContainer;!m&&null!==this.scrollingContainer&&(m=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let g=this.formats;if(!g&&void 0===g&&(g=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new e(this.editorElem,{bounds:a,debug:d,formats:g,modules:r,placeholder:s,readOnly:h,defaultEmptyValue:x,scrollingContainer:m,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const f=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");f?.dataset&&(f.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===J(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const f=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(f,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(e){if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=e.defaultEmptyValue.currentValue),e.styles){const o=e.styles.currentValue,r=e.styles.previousValue;r&&Object.keys(r).forEach(s=>{this.renderer.removeStyle(this.editorElem,s)}),o&&Object.keys(o).forEach(s=>{this.renderer.setStyle(this.editorElem,s,this.styles[s])})}if(e.classes){const o=e.classes.currentValue,r=e.classes.previousValue;r&&this.removeClasses(r),o&&this.addClasses(o)}e.debounceTime&&this.addQuillEventListeners()}}addClasses(e){i.normalizeClassNames(e).forEach(o=>{this.renderer.addClass(this.editorElem,o)})}removeClasses(e){i.normalizeClassNames(e).forEach(o=>{this.renderer.removeClass(this.editorElem,o)})}writeValue(e){if(this.filterNull&&null===e||(this.content=e,!this.quillEditor))return;const o=J(this.format,this.service.config.format),r=this.valueSetter(this.quillEditor,e);if(this.compareValues){const s=this.quillEditor.getContents();if(JSON.stringify(s)===JSON.stringify(r))return}e?"text"===o?this.quillEditor.setText(e):this.quillEditor.setContents(r):this.quillEditor.setText("")}setDisabledState(e=this.disabled){this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.onValidatorChanged=e}validate(){if(!this.quillEditor)return null;const e={};let o=!0;const r=this.quillEditor.getText(),s=this.trimOnValidation?r.trim().length:1===r.length&&0===r.trim().length?0:r.length-1,a=this.quillEditor.getContents().ops,d=a&&1===a.length&&["\n",""].includes(a[0].insert);return this.minLength&&s&&s<this.minLength&&(e.minLengthError={given:s,minLength:this.minLength},o=!1),this.maxLength&&s>this.maxLength&&(e.maxLengthError={given:s,maxLength:this.maxLength},o=!1),this.required&&!s&&d&&(e.requiredError={empty:!0},o=!1),o?null:e}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new wt.w0,this.subscription.add((0,ot.R)(this.quillEditor,"selection-change").subscribe(([r,s,a])=>{this.selectionChangeHandler(r,s,a)}));let e=(0,ot.R)(this.quillEditor,"text-change"),o=(0,ot.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(e=e.pipe((0,gt.b)(this.debounceTime)),o=o.pipe((0,gt.b)(this.debounceTime))),this.subscription.add(e.subscribe(([r,s,a])=>{this.textChangeHandler(r,s,a)})),this.subscription.add(o.subscribe(([r,s,a,d])=>{this.editorChangeHandler(r,s,a,d)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(K.H7),t.Y36(t.Lbi),t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(X))},i.\u0275dir=t.lG2({type:i,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[t.TTD]}),i})(),pt=(()=>{class i extends Rt{constructor(e,o,r,s,a,d,h,x){super(e,o,r,s,a,d,h,x)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(K.H7),t.Y36(t.Lbi),t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(X))},i.\u0275cmp=t.Xpm({type:i,selectors:[["quill-editor"]],standalone:!0,features:[t._Bn([{multi:!0,provide:P.JU,useExisting:(0,t.Gpc)(()=>i)},{multi:!0,provide:P.Cf,useExisting:(0,t.Gpc)(()=>i)}]),t.qOj,t.jDz],ngContentSelectors:Ft,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(e,o){1&e&&(t.F$t(zt),t.YNc(0,St,3,2,"ng-container",0),t.Hsn(1),t.YNc(2,Lt,3,2,"ng-container",0)),2&e&&(t.Q6J("ngIf","top"!==o.toolbarPosition),t.xp6(2),t.Q6J("ngIf","top"===o.toolbarPosition))},dependencies:[l.ez,l.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),i})(),Yt=(()=>{class i{constructor(e,o){this.sanitizer=e,this.service=o,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(e){if(e.theme?this.themeClass=`ql-${e.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),e.content){const o=e.content.currentValue,r=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=r?o:this.sanitizer.bypassSecurityTrustHtml(o)}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(K.H7),t.Y36(X))},i.\u0275cmp=t.Xpm({type:i,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&e&&(t.Q6J("ngClass",o.themeClass),t.xp6(1),t.Q6J("innerHTML",o.innerHTML,t.oJD))},dependencies:[l.ez,l.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),i})(),Vt=(()=>{class i{constructor(e,o,r,s,a,d){this.elementRef=e,this.renderer=o,this.zone=r,this.service=s,this.domSanitizer=a,this.platformId=d,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new t.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(h,x)=>{const m=J(this.format,this.service.config.format);let g=x;if("text"===m)h.setText(g);else{if("html"===m)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(x=this.domSanitizer.sanitize(t.q3G.HTML,x)),g=h.clipboard.convert(x);else if("json"===m)try{g=JSON.parse(x)}catch{g=[{insert:x}]}h.setContents(g)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(e){this.quillEditor&&e.content&&this.valueSetter(this.quillEditor,e.content.currentValue)}ngAfterViewInit(){(0,l.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,mt.z)(e=>{const o=[this.service.registerCustomModules(e,this.customModules)],r=this.beforeRender??this.service.config.beforeRender;return r&&o.push(r()),Promise.all(o).then(()=>e)})).subscribe(e=>{const o=Object.assign({},this.modules||this.service.config.modules);o.toolbar=!1,this.customOptions.forEach(d=>{const h=e.import(d.import);h.whitelist=d.whitelist,e.register(h,!0)});let r=this.debug;!r&&!1!==r&&this.service.config.debug&&(r=this.service.config.debug);let s=this.formats;!s&&void 0===s&&(s=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const a=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new e(this.editorElem,{debug:r,formats:s,modules:o,readOnly:!0,strict:this.strict,theme:a})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){this.quillSubscription?.unsubscribe(),this.quillSubscription=null}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(X),t.Y36(K.H7),t.Y36(t.Lbi))},i.\u0275cmp=t.Xpm({type:i,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(e,o){1&e&&(t.YNc(0,Qt,1,0,"div",0),t.YNc(1,Jt,1,0,"pre",0)),2&e&&(t.Q6J("ngIf",!o.preserve),t.xp6(1),t.Q6J("ngIf",o.preserve))},dependencies:[l.ez,l.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),i})(),jt=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:dt,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[pt,Vt,Yt]}),i})();const Ht=["quillEditor"];function $t(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.openShareDialog())}),t.TgZ(1,"mat-icon"),t._uU(2,"share"),t.qZA()()}}function Gt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.openEditNameDialog())}),t._uU(1,"Edit Name"),t.qZA()}}function Bt(i,n){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.document.name)}}function Wt(i,n){if(1&i&&(t._uU(0),t.ALo(1,"async")),2&i){const e=t.oxw();let o;t.Oqu(null==(o=t.lcZ(1,1,e.store$))||null==o.document?null:o.document.name)}}function Kt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.openEditNameDialog())}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA()()}}function Xt(i,n){if(1&i&&t._UZ(0,"img",16),2&i){const e=n.$implicit;t.Q6J("src",e.photoURL,t.LSH)("matTooltip",e.displayName)}}class R{constructor(n,e,o,r,s,a,d,h){this._socket=n,this.activateRoute=e,this.documentService=o,this.dialogService=r,this.userService=s,this.store=a,this.authService=d,this.router=h,this.showNotification=!1,this.store$=this.store.select("doc"),this.users=[],this.isSocketConnected=!1,this.quillModule={toolbar:{container:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}}ngOnInit(){this.activateRoute.queryParams.subscribe(n=>{this.roomId=n.id}),this.handleSocketEvents(this.roomId),this.store.dispatch(O.R.get({id:this.roomId})),this.store$.subscribe(n=>{if(500===n.error.status){if(this.showNotification)return;this.showNotification=!0,this.openShowNotification("You don't have permission to access this document")}}),window.addEventListener("beforeunload",()=>{this.beforeleave()})}openShowNotification(n){this.dialogService.open(z,{width:"500px",data:n}).afterClosed().subscribe(()=>{this.back()})}ngAfterViewInit(){this.setup()}ngOnDestroy(){this.beforeleave()}handleSocketEvents(n){this.roomId=n,this._socket.on("connect",()=>{this.handleSocketConnection()}),this._socket.connect()}handleSocketConnection(){var n=this;return(0,b.Z)(function*(){if(n.isSocketConnected)return;console.log("connected"),n.isSocketConnected=!0;let e=yield n.userService.getUser(n.authService.currentUser?.uid);n.listenRoomChange().subscribe(o=>{n.users=o.users}),n._socket.emit("join-room",{roomId:n.roomId,user:e}),n.watchDogListener().subscribe(o=>{if(o.uid!==n.authService.currentUser?.uid&&!o.canEdit.includes(n.authService.currentUser?.uid)&&!o.canView.includes(n.authService.currentUser?.uid)){if(n.showNotification)return;n.showNotification=!0,n.openShowNotification("Your permission to access this document were removed ")}})})()}setup(){var n=this;return(0,b.Z)(function*(){n.documentService.getDoc(n.roomId).pipe((0,N.Z)()).subscribe(e=>{n.document=e}),setTimeout(()=>{n.editor.quillEditor.on("text-change",(o,r,s)=>{"user"===s&&n.sendUpdateData(o)}),n.processData()},1e3)})()}saveFile(){this.documentService.saveFile(this.editor.quillEditor.getContents(),this.document.contentPath)}processData(){(0,T.z)(this.documentService.getFile(this.document.contentPath,this.roomId),this.listenForChanged()).subscribe(n=>{this.defaultData=n,this.editor.quillEditor.updateContents(n)}),this.saveInterval=setInterval(()=>{this._socket.emit("watch-dog",{docId:this.roomId}),this.saveFile()},3e3)}sendUpdateData(n){this._socket.emit("send-data",{room:this.roomId,data:n})}listenForChanged(){return this._socket.fromEvent("receive-data")}listenRoomChange(){return this._socket.fromEvent("update-room")}openEditNameDialog(){var n=this;return(0,b.Z)(function*(){n.document&&n.dialogService.open(L,{width:"500px",data:n.document.name}).afterClosed().subscribe(r=>{r&&(n.document.name=r,n.store.dispatch(O.R.update({id:n.document.id,uid:n.authService.currentUser?.uid,updateField:"name",updateValue:r})))})})()}openShareDialog(){this.dialogService.open(C.p,{data:this.roomId}).afterClosed().subscribe(e=>{this._socket.emit("watch-dog",{docId:this.roomId})})}back(){this.router.navigate(["/main"])}beforeleave(){this._socket.emit("leave-room",{roomId:this.roomId,user:this.authService.currentUser?.uid}),clearInterval(this.saveInterval),this._socket.disconnect(),this.saveFile()}unloadHandler(n){var e=this;return(0,b.Z)(function*(){n.preventDefault(),e.beforeleave()})()}watchDogListener(){return this._socket.fromEvent("watch-dog-message")}}R.\u0275fac=function(n){return new(n||R)(t.Y36(Mt.s),t.Y36(v.gz),t.Y36(ct.Z),t.Y36(_.uw),t.Y36(vt.K),t.Y36(F.yh),t.Y36(Q.e),t.Y36(v.F0))},R.\u0275cmp=t.Xpm({type:R,selectors:[["app-document"]],viewQuery:function(n,e){if(1&n&&t.Gf(Ht,5),2&n){let o;t.iGM(o=t.CRH())&&(e.editor=o.first)}},hostBindings:function(n,e){1&n&&t.NdJ("beforeunload",function(r){return e.unloadHandler(r)},!1,t.Jf7)},decls:32,vars:14,consts:[[1,"back-share"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"filename"],["mat-icon-button","",1,"button-expand",3,"matMenuTriggerFor"],["buttonExpand","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"spacer"],[1,"name"],[4,"ngIf","ngIfElse"],["diffName",""],[1,"watcher"],["matTooltipPosition","below","matTooltipClass","joiner",3,"src","matTooltip",4,"ngFor","ngForOf"],[3,"modules"],["quillEditor",""],["matTooltipPosition","below","matTooltipClass","joiner",3,"src","matTooltip"]],template:function(n,e){if(1&n&&(t.TgZ(0,"mat-toolbar")(1,"div",0)(2,"button",1),t.NdJ("click",function(){return e.back()}),t.TgZ(3,"mat-icon"),t._uU(4," arrow_back "),t.qZA()(),t.YNc(5,$t,3,0,"button",2),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"div",3)(8,"span")(9,"button",4)(10,"mat-icon"),t._uU(11,"expand_more"),t.qZA()(),t.TgZ(12,"mat-menu",null,5),t.YNc(14,Gt,2,0,"button",6),t.ALo(15,"async"),t.TgZ(16,"button",7),t.NdJ("click",function(){return e.saveFile()}),t._uU(17,"Save File"),t.qZA()()(),t._UZ(18,"span",8),t.TgZ(19,"span",9),t.YNc(20,Bt,2,1,"ng-container",10),t.YNc(21,Wt,2,3,"ng-template",null,11,t.W1O),t.qZA(),t.YNc(23,Kt,3,0,"button",2),t.ALo(24,"async"),t.TgZ(25,"button",1),t.NdJ("click",function(){return e.saveFile()}),t.TgZ(26,"mat-icon"),t._uU(27,"save"),t.qZA()()(),t.TgZ(28,"div",12),t.YNc(29,Xt,1,2,"img",13),t.qZA()(),t._UZ(30,"quill-editor",14,15)),2&n){const o=t.MAs(13),r=t.MAs(22);let s,a,d;t.xp6(5),t.Q6J("ngIf",(null==(s=t.lcZ(6,8,e.store$))||null==s.document?null:s.document.uid)===(null==e.authService.currentUser?null:e.authService.currentUser.uid)),t.xp6(4),t.Q6J("matMenuTriggerFor",o),t.xp6(5),t.Q6J("ngIf",(null==(a=t.lcZ(15,10,e.store$))||null==a.document?null:a.document.uid)===(null==e.authService.currentUser?null:e.authService.currentUser.uid)),t.xp6(6),t.Q6J("ngIf",e.document)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",(null==(d=t.lcZ(24,12,e.store$))||null==d.document?null:d.document.uid)===(null==e.authService.currentUser?null:e.authService.currentUser.uid)),t.xp6(6),t.Q6J("ngForOf",e.users),t.xp6(1),t.Q6J("modules",e.quillModule)}},dependencies:[l.sg,l.O5,lt.Ye,D.Hw,u.RK,w.VK,w.OP,w.p6,W.gM,pt,l.Ov],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:100%;background-color:var(--color-1);position:fixed;display:flex;align-items:center;justify-content:space-between;top:0;z-index:1000}.mat-toolbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0rem 2rem}.back-share[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .filename[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-weight:500;color:var(--color-4);height:48px!important;width:48px!important;padding:auto;margin-left:10px}.back-share[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .filename[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px;line-height:24px;font-weight:500}.back-share[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-weight:700}.back-share[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.filename[_ngcontent-%COMP%]{display:flex;align-items:center}.filename[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.filename[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:var(--color-4);max-width:200px;overflow:hidden;text-overflow:ellipsis}.filename[_ngcontent-%COMP%] > .spacer[_ngcontent-%COMP%]{width:116px}  .mat-drawer-backdrop{background-color:inherit!important}.watcher[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.watcher[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin:0 -10px;background-color:azure}.button-expand[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 900px){.mat-toolbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0rem .5rem}.back-share[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .filename[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-weight:500;color:var(--color-4);height:32px!important;width:32px!important;padding:0;margin-left:8px}.back-share[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .filename[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;line-height:16px}.filename[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{font-size:.8rem}.filename[_ngcontent-%COMP%] > .spacer[_ngcontent-%COMP%]{width:80px}.watcher[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.watcher[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 -8px}}@media screen and (max-width: 600px){.back-share[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .filename[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-left:0}.mat-toolbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0;margin:0rem}.watcher[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:28px;height:28px;margin:0 -6px}}  .mat-mdc-tooltip{font-size:.75rem!important}@media screen and (max-width: 500px){.filename[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:none!important}.filename[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{max-width:125px}.filename[_ngcontent-%COMP%] > .spacer[_ngcontent-%COMP%]{width:0}.watcher[_ngcontent-%COMP%]{display:none!important}.button-expand[_ngcontent-%COMP%]{display:block}}"]});const ht={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let tt;const te=new Uint8Array(16);function ee(){if(!tt&&(tt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tt(te)}const M=[];for(let i=0;i<256;++i)M.push((i+256).toString(16).slice(1));const ie=function ne(i,n,e){if(ht.randomUUID&&!n&&!i)return ht.randomUUID();const o=(i=i||{}).random||(i.rng||ee)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){e=e||0;for(let r=0;r<16;++r)n[e+r]=o[r];return n}return function ft(i,n=0){return(M[i[n+0]]+M[i[n+1]]+M[i[n+2]]+M[i[n+3]]+"-"+M[i[n+4]]+M[i[n+5]]+"-"+M[i[n+6]]+M[i[n+7]]+"-"+M[i[n+8]]+M[i[n+9]]+"-"+M[i[n+10]]+M[i[n+11]]+M[i[n+12]]+M[i[n+13]]+M[i[n+14]]+M[i[n+15]]).toLowerCase()}(o)};var oe=c(7855),rt=c(6257),_t=c(1594);const re=["stepper"];function se(i,n){1&i&&t._uU(0,"Fill out document name")}function ae(i,n){1&i&&t._uU(0,"Done")}class Y{constructor(n,e,o,r,s){this._formBuilder=n,this.store=e,this.authService=o,this.dialogRef=r,this.documentService=s,this.store$=this.store.select("doc"),this.inProgress=!1,this.firstFormGroup=this._formBuilder.group({firstCtrl:["",P.kI.required]})}close(){1!=this.inProgress&&this.dialogRef.close()}createDoc(){var n=this;return(0,b.Z)(function*(){if(""==n.firstFormGroup.value.firstCtrl?.trim())return;n.inProgress=!0,n.stepper.next();let e=Date.now().toString(),o=n.createDocModel(),r=yield n.documentService.createFile();Object.assign(o,{contentPath:r.name,dateCreated:e,dateModified:e}),console.log(o);let s=n.store$.subscribe(a=>{if(n.inProgress&&!a.inProcess){if(a.error)return n.stepper.previous(),void(n.inProgress=!1);try{s.unsubscribe(),n.inProgress=!1,n.stepper.next()}catch{}}else n.inProgress=a.inProcess});n.store.dispatch(O.R.create({document:o}))})()}createDocModel(){return{id:ie(),name:this.firstFormGroup.value.firstCtrl,contentPath:"",isDelete:!1,isPublic:!1,dateCreated:"0",dateModified:"0",canEdit:[],canView:[],forkedFrom:"",stars:0,uid:this.authService.currentUser?.uid}}}Y.\u0275fac=function(n){return new(n||Y)(t.Y36(P.qu),t.Y36(F.yh),t.Y36(Q.e),t.Y36(oe.zj),t.Y36(ct.Z))},Y.\u0275cmp=t.Xpm({type:Y,selectors:[["app-create-document"]],viewQuery:function(n,e){if(1&n&&t.Gf(re,5),2&n){let o;t.iGM(o=t.CRH())&&(e.stepper=o.first)}},decls:33,vars:4,consts:[["mat-dialog-title","",1,"header"],["matTooltip","Info about the action",3,"click"],[1,"dialog-container"],["linear",""],["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["appearance","outline",1,"input-container"],["matInput","","placeholder","Enter document name","formControlName","firstCtrl","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],["label","Creating document"],[3,"inputData","loading"],["mat-button",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Create new document"),t.qZA(),t.TgZ(3,"mat-icon",1),t.NdJ("click",function(){return e.close()}),t._uU(4,"close"),t.qZA()(),t.TgZ(5,"mat-dialog-content",2)(6,"mat-stepper",3,4)(8,"mat-step",5)(9,"form",6),t.YNc(10,se,1,0,"ng-template",7),t.TgZ(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Document name"),t.qZA(),t._UZ(14,"input",9),t.qZA(),t.TgZ(15,"mat-dialog-actions",10)(16,"button",11),t._uU(17,"Cancel"),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return e.createDoc()}),t._uU(19,"Create"),t.qZA()()()(),t.TgZ(20,"mat-step",13),t._UZ(21,"app-loading",14),t.qZA(),t.TgZ(22,"mat-step"),t.YNc(23,ae,1,0,"ng-template",7),t.TgZ(24,"p"),t._uU(25,"The document has been created"),t.qZA(),t.TgZ(26,"p"),t._uU(27,"Do you want to move to the document?"),t.qZA(),t.TgZ(28,"mat-dialog-actions",10)(29,"button",12),t.NdJ("click",function(){return e.close()}),t._uU(30,"Stay"),t.qZA(),t.TgZ(31,"button",15),t._uU(32,"Move"),t.qZA()()()()()),2&n&&(t.xp6(8),t.Q6J("stepControl",e.firstFormGroup),t.xp6(1),t.Q6J("formGroup",e.firstFormGroup),t.xp6(12),t.Q6J("inputData","Creating your document please wait")("loading",!0))},dependencies:[D.Hw,u.lW,y.KE,y.hX,I.Nt,_.ZT,_.uh,_.xY,_.H8,P._Y,P.Fj,P.JJ,P.JL,P.Q7,P.sg,P.u,rt.C0,rt.VY,rt.Vq,W.gM,_t.N],styles:[".mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;margin:1%}.input-container[_ngcontent-%COMP%]{width:100%}"]});class Z{constructor(){}convertDateTime(n){let e=new Date(parseInt(n)),o=e.getHours()>=10?e.getHours():"0"+e.getHours(),r=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes();return e.getDate()==(new Date).getDate()?`${o}:${r} Today`:`${o}:${r} ${e.getDate()>=10?e.getDate():"0"+e.getDate()}/${e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1)}/${e.getFullYear()}`}getDate(n){let e=new Date(parseInt(n));return`${e.getDate()>=10?e.getDate():"0"+e.getDate()}/${e.getMonth()+1>=10?e.getMonth()+1:"0"+(e.getMonth()+1)}/${e.getFullYear()}`}}Z.\u0275fac=function(n){return new(n||Z)},Z.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"});var ce=c(7009),V=c(6338);class j{constructor(){this.inputStatus={type:"error",message:"Error",icon:"error",stacked:!1}}}function le(i,n){1&i&&(t.TgZ(0,"div",6),t._UZ(1,"app-loading",7),t.qZA()),2&i&&(t.xp6(1),t.Q6J("inputData","Getting your documents")("loading",!0))}function de(i,n){1&i&&(t.TgZ(0,"div",8),t._UZ(1,"app-status"),t.qZA())}function ue(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div")(2,"button",19)(3,"mat-icon",20),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",19)(6,"mat-icon"),t._uU(7,"star"),t.qZA()()(),t.TgZ(8,"div")(9,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.changeDocDeleted(r.id,!0))}),t.TgZ(10,"mat-icon",22),t._uU(11,"close"),t.qZA()()()()}}function me(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",18)(1,"div")(2,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.changeDocDeleted(r.id,!1))}),t.TgZ(3,"mat-icon",23),t._uU(4,"settings_backup_restore"),t.qZA()()(),t.TgZ(5,"div")(6,"button",19)(7,"mat-icon",22),t._uU(8,"close"),t.qZA()()()()}}function ge(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",11),t.YNc(1,ue,12,0,"div",12),t.YNc(2,me,9,0,"div",12),t.TgZ(3,"div",13)(4,"img",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.navigateToDoc(s.id))}),t.qZA()(),t.TgZ(5,"div",15)(6,"div")(7,"span",16),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.navigateToDoc(s.id))}),t._uU(8),t.qZA(),t.TgZ(9,"span",17)(10,"span"),t._uU(11,"Created:"),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t._UZ(14,"br"),t.TgZ(15,"span"),t._uU(16,"Modify:"),t.TgZ(17,"span"),t._uU(18),t.qZA()()()()()()}if(2&i){const e=n.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isDelete),t.xp6(1),t.Q6J("ngIf",e.isDelete),t.xp6(6),t.Oqu(e.name),t.xp6(5),t.Oqu(o.shareFunctionService.convertDateTime(e.dateCreated)),t.xp6(5),t.Oqu(o.shareFunctionService.convertDateTime(e.dateCreated))}}function pe(i,n){if(1&i&&(t.TgZ(0,"div",9),t.YNc(1,ge,19,5,"div",10),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw();let o;t.xp6(1),t.Q6J("ngForOf",null==(o=t.lcZ(2,1,e.doc$))?null:o.documents)}}j.\u0275fac=function(n){return new(n||j)},j.\u0275cmp=t.Xpm({type:j,selectors:[["app-status"]],inputs:{inputStatus:"inputStatus"},decls:4,vars:0,consts:[[1,"container"],["aria-hidden","false","fontIcon","error",1,"icon"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"mat-icon",1),t.TgZ(2,"h1"),t._uU(3,"Can't get data"),t.qZA()())},dependencies:[D.Hw],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:9999}.icon[_ngcontent-%COMP%]{font-size:3rem;width:5%;height:8%;color:var(--color-2)}"]});class H{constructor(n,e,o,r,s,a,d){var h=this;this.activateRoute=n,this.authService=e,this.store=o,this.dialogService=r,this.shareFunctionService=s,this._snackBar=a,this.router=d,this.doc$=this.store.select("doc"),this.store$=this.store.select("doc"),this.inProgress=!1,this.tempSub=this.activateRoute.url.subscribe(function(){var x=(0,b.Z)(function*(m){if(null!=h.authService.auth.currentUser)switch(m[1].path){case"owned":h.store.dispatch(O.R.getAll());break;case"bin":h.store.dispatch(O.R.getDeleted());break;case"shared":h.store.dispatch(O.R.getShared())}});return function(m){return x.apply(this,arguments)}}())}ngOnInit(){}ngOnDestroy(){try{this.tempSub.unsubscribe()}catch{}}openCreateDialog(){this.dialogService.open(Y,{})}navigateToDoc(n){this.router.navigate(["main/document/edit"],{queryParams:{id:n}})}openDeleteDialog(){}changeDocDeleted(n,e){if(1==this.inProgress)return;let o=this.store$.subscribe(r=>{if(!this.inProgress&&r.inProcess)if(r.error)this.inProgress=!1;else try{o.unsubscribe(),this.inProgress=!1,this._snackBar.open("Document has been move to Recycle bin","Close")}catch{this._snackBar.open("Document has been move to Recycle bin","Close")}else this.inProgress=r.inProcess});this.store.dispatch(O.R.update({id:n,uid:this.authService.auth.currentUser?.uid,updateField:"isDelete",updateValue:e}))}}H.\u0275fac=function(n){return new(n||H)(t.Y36(v.gz),t.Y36(Q.e),t.Y36(F.yh),t.Y36(_.uw),t.Y36(Z),t.Y36(ce.ux),t.Y36(v.F0))},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-list"]],decls:17,vars:13,consts:[[1,"container"],["class","status-container",4,"ngIf"],["class","status-container-status",4,"ngIf"],[1,"tab-container"],["mat-button","","matTooltip","Create",3,"click"],["class","main-container",4,"ngIf"],[1,"status-container"],[3,"inputData","loading"],[1,"status-container-status"],[1,"main-container"],["class","item-container",4,"ngFor","ngForOf"],[1,"item-container"],["class","icon-container",4,"ngIf"],[1,"thumbnail"],["src","../../../../../assets/Logo.svg","alt","",1,"doc-img",3,"click"],[1,"item-info"],["matListItemTitle","",1,"title",3,"click"],[1,"time"],[1,"icon-container"],["mat-icon-button",""],["matTooltip","Edit"],["mat-icon-button","",3,"click"],["matTooltip","Delete"],["matTooltip","Restore"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,le,2,2,"div",1),t.ALo(2,"async"),t.YNc(3,de,2,0,"div",2),t.ALo(4,"async"),t.ALo(5,"async"),t.TgZ(6,"div",3)(7,"h2"),t._uU(8,"All Document"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){return e.openCreateDialog()}),t.TgZ(10,"mat-icon"),t._uU(11,"add_circle"),t.qZA(),t.TgZ(12,"span"),t._uU(13,"New Document"),t.qZA()()(),t.YNc(14,pe,3,3,"div",5),t.ALo(15,"async"),t.ALo(16,"async"),t.qZA()),2&n){let o,r,s;t.xp6(1),t.Q6J("ngIf",1==(null==(o=t.lcZ(2,3,e.doc$))?null:o.loading)),t.xp6(2),t.Q6J("ngIf",0==(null==(r=t.lcZ(4,5,e.doc$))?null:r.loading)&&""!=(null==(r=t.lcZ(5,7,e.doc$))?null:r.error)),t.xp6(11),t.Q6J("ngIf",0==(null==(s=t.lcZ(15,9,e.doc$))?null:s.loading)&&""==(null==(s=t.lcZ(16,11,e.doc$))?null:s.error))}},dependencies:[l.sg,l.O5,D.Hw,u.lW,u.RK,V.sL,W.gM,_t.N,j,l.Ov],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}.tab-container[_ngcontent-%COMP%]{width:calc(100% - 6rem);display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin:1rem 3rem}.tab-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .tab-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--color-4)}.tab-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.tab-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;background-color:var(--color-1);box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.25)}.tab-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500}.tab-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem}.main-container[_ngcontent-%COMP%], .main-container-recently[_ngcontent-%COMP%]{display:grid;padding:10px;grid-template-columns:repeat(auto-fit,350px);gap:10px}.item-container[_ngcontent-%COMP%]{background-color:var(--color-1);border-radius:10px;box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.25);width:100%;transition:all .2s ease-in-out}.item-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.item-container[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{color:var(--color-4)}.item-container[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{background-color:#fff;padding:5rem}.item-container[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{padding:1rem}.item-container[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .item-container[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.item-container[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--color-4);font-size:1.2rem;font-weight:600;justify-content:center;margin-bottom:1rem}.item-container[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#00000080;font-size:.7rem;font-weight:500;justify-content:space-between}.item-container[_ngcontent-%COMP%]:hover{cursor:pointer;animation:_ngcontent-%COMP%_dynamic .5s ease-in-out}.item-container[_ngcontent-%COMP%]:active{cursor:pointer;filter:brightness(.9)}@media screen and (max-width: 768px){.tab-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;width:100%;margin:0rem 10px}.tab-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:1rem;margin-bottom:1rem}.tab-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:1rem}.main-container[_ngcontent-%COMP%], .main-container-recently[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,250px);gap:5px}.item-container[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{background-color:#fff;padding:2rem}.item-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem}}@keyframes _ngcontent-%COMP%_dynamic{0%{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.005);filter:brightness(1.01)}to{transform:scale(1);filter:brightness(1)}}"]});var et=c(9287),he=c(529),nt=c(7084);function fe(i,n){1&i&&(t.TgZ(0,"span",27),t._uU(1,"You have an invitation"),t.qZA())}function _e(i,n){1&i&&(t.TgZ(0,"span",27),t._uU(1,"Invitation Accepted"),t.qZA())}function Ce(i,n){1&i&&(t.TgZ(0,"span",27),t._uU(1,"Invitation Rejected"),t.qZA())}function Me(i,n){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("You are invited in document ",e.doc.name," by ",e.sender.displayName,"")}}function ve(i,n){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.sender.displayName," has accepted your invitation to ",e.doc.name," ")}}function Oe(i,n){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.sender.displayName," has rejected your invitation to ",e.doc.name," ")}}function Pe(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",28),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw();return t.KtG(s.acceptInvite(r.id,r.right,r.doc.id))}),t._uU(2,"Accept"),t.qZA(),t.TgZ(3,"button",29),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw();return t.KtG(s.declineInvite(r.id,r.right,r.doc.id))}),t._uU(4,"Reject"),t.qZA()()}}function be(i,n){if(1&i&&(t.TgZ(0,"mat-expansion-panel",19)(1,"mat-expansion-panel-header")(2,"div",20)(3,"span",21)(4,"span",22),t._uU(5),t.qZA(),t._UZ(6,"span",15),t.YNc(7,fe,2,0,"span",23),t.YNc(8,_e,2,0,"span",23),t.YNc(9,Ce,2,0,"span",23),t.qZA(),t._UZ(10,"span",15),t.TgZ(11,"span",24),t._uU(12),t.qZA()()(),t.TgZ(13,"div",25),t.YNc(14,Me,2,2,"p",26),t.YNc(15,ve,2,2,"p",26),t.YNc(16,Oe,2,2,"p",26),t.YNc(17,Pe,5,0,"div",26),t.qZA()()),2&i){const e=n.$implicit,o=t.oxw();t.xp6(5),t.Oqu(e.sender.displayName),t.xp6(2),t.Q6J("ngIf","notify"!==e.type),t.xp6(1),t.Q6J("ngIf","accept"==e.right),t.xp6(1),t.Q6J("ngIf","reject"==e.right),t.xp6(3),t.Oqu(o.shareFunction.getDate(e.date)),t.xp6(2),t.Q6J("ngIf","notify"!==e.type),t.xp6(1),t.Q6J("ngIf","accept"==e.right),t.xp6(1),t.Q6J("ngIf","reject"==e.right),t.xp6(1),t.Q6J("ngIf","notify"!==e.type)}}class ${constructor(n,e,o,r){this.http=n,this.store=e,this.authService=o,this.shareFunction=r,this.acceptMails=[],this.declineMails=[],this.inviteMails=[],this.allMails=[],this.filteredMail=[],this.activeFilter="all",this.startNumber=0,this.endNumber=10,this.totalPage=0,this.store$=this.store.select("mail"),this.panelOpenState=!1}reloadEmail(){this.store.dispatch(et.Q.getAllMails({uid:this.authService.currentUser?.uid}))}ngOnInit(){this.store.dispatch(et.Q.getAllMails({uid:this.authService.currentUser?.uid})),this.store$.subscribe(n=>{n.mails&&(this.allMails=n.mails,this.filteredMail=[...n.mails].sort((e,o)=>parseInt(o.date)-parseInt(e.date)),this.acceptMails=n.mails.filter(e=>"accept"===e.right).sort((e,o)=>parseInt(o.date)-parseInt(e.date)),this.declineMails=n.mails.filter(e=>"decline"===e.right).sort((e,o)=>parseInt(o.date)-parseInt(e.date)),this.inviteMails=n.mails.filter(e=>"invite"===e.type).sort((e,o)=>parseInt(o.date)-parseInt(e.date)))})}acceptInvite(n,e,o){this.store.dispatch(et.Q.acceptInvite({id:n,right:e,docId:o,uid:this.authService.currentUser?.uid}))}declineInvite(n,e,o){this.store.dispatch(et.Q.declineInvite({id:n,right:"decline",docId:o,uid:this.authService.currentUser?.uid}))}changeMailType(n){switch(n){case"accept":this.activeFilter="accept",this.filteredMail=this.acceptMails;break;case"decline":this.activeFilter="decline",this.filteredMail=this.declineMails;break;case"invite":this.activeFilter="invite",this.filteredMail=this.inviteMails;break;case"all":this.activeFilter="all",this.filteredMail=this.allMails}this.startNumber=0,this.endNumber=10}searchMail(n){this.filteredMail=this.allMails.filter(e=>e.sender.displayName.toLowerCase().includes(n.target.value.toLowerCase())||e.doc.name.toLowerCase().includes(n.target.value.toLowerCase()))}changePage(n){if("increase"===n){if(this.startNumber+10>=this.filteredMail.length)return;this.startNumber+=10,this.endNumber+=this.filteredMail.length/this.endNumber>=1?10:this.filteredMail.length%10}else{if(this.startNumber-10<0)return;this.startNumber-=10,this.endNumber-=this.filteredMail.length/this.endNumber>=1?10:this.filteredMail.length%10}}}$.\u0275fac=function(n){return new(n||$)(t.Y36(he.eN),t.Y36(F.yh),t.Y36(Q.e),t.Y36(Z))},$.\u0275cmp=t.Xpm({type:$,selectors:[["app-mail"]],decls:59,vars:13,consts:[[1,"container"],[1,"top-container"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Ex. Email",3,"change"],["mat-icon-button","","matSuffix",""],[1,"button-holder"],["mat-button","",3,"ngClass","click"],["mat-button","","matBadgePosition","after","matBadgeColor","warn",3,"ngClass","click"],[1,"filter"],["mat-icon-button","",3,"matMenuTriggerFor"],["filter","matMenu"],["mat-menu-item",""],[1,"filter-item",3,"click"],[1,"mid-container"],["mat-icon-button","",3,"click"],[1,"spacer"],[1,"page"],[1,"email-holder"],["hideToggle","",4,"ngFor","ngForOf"],["hideToggle",""],[1,"email-info"],[1,"title-description"],[1,"title"],["class","description",4,"ngIf"],[1,"date"],[1,"content"],[4,"ngIf"],[1,"description"],["mat-button","",1,"accept",3,"click"],["mat-button","",3,"click"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Find"),t.qZA(),t.TgZ(5,"input",3),t.NdJ("change",function(r){return e.searchMail(r)}),t.qZA(),t.TgZ(6,"button",4)(7,"mat-icon"),t._uU(8,"search"),t.qZA()()(),t.TgZ(9,"div",5)(10,"button",6),t.NdJ("click",function(){return e.changeMailType("all")}),t.TgZ(11,"span"),t._uU(12,"All"),t.qZA()(),t.TgZ(13,"button",6),t.NdJ("click",function(){return e.changeMailType("invite")}),t.TgZ(14,"span"),t._uU(15,"Invited"),t.qZA()(),t.TgZ(16,"button",7),t.NdJ("click",function(){return e.changeMailType("accept")}),t.TgZ(17,"span"),t._uU(18,"Accepted"),t.qZA()(),t.TgZ(19,"button",6),t.NdJ("click",function(){return e.changeMailType("decline")}),t.TgZ(20,"span"),t._uU(21,"Rejected"),t.qZA()()(),t.TgZ(22,"div",8)(23,"button",9)(24,"mat-icon"),t._uU(25,"filter_list"),t.qZA()(),t.TgZ(26,"mat-menu",null,10)(28,"button",11)(29,"span",12),t.NdJ("click",function(){return e.changeMailType("all")}),t._uU(30,"All"),t.qZA()(),t.TgZ(31,"button",11)(32,"span",12),t.NdJ("click",function(){return e.changeMailType("invite")}),t._uU(33,"Invited"),t.qZA()(),t.TgZ(34,"button",11)(35,"span",12),t.NdJ("click",function(){return e.changeMailType("accept")}),t._uU(36,"Accepted"),t.qZA()(),t.TgZ(37,"button",11)(38,"span",12),t.NdJ("click",function(){return e.changeMailType("decline")}),t._uU(39,"Rejected"),t.qZA()()()()(),t.TgZ(40,"div",13)(41,"div")(42,"button",14),t.NdJ("click",function(){return e.reloadEmail()}),t.TgZ(43,"mat-icon"),t._uU(44,"loop"),t.qZA()()(),t._UZ(45,"div",15),t.TgZ(46,"div",16)(47,"button",14),t.NdJ("click",function(){return e.changePage("decrease")}),t.TgZ(48,"mat-icon"),t._uU(49,"keyboard_arrow_left"),t.qZA()(),t.TgZ(50,"p"),t._uU(51),t.qZA(),t.TgZ(52,"button",14),t.NdJ("click",function(){return e.changePage("increase")}),t.TgZ(53,"mat-icon"),t._uU(54,"keyboard_arrow_right"),t.qZA()()(),t._UZ(55,"div",15),t.qZA(),t.TgZ(56,"div",17),t.YNc(57,be,18,9,"mat-expansion-panel",18),t.ALo(58,"slice"),t.qZA()()),2&n){const o=t.MAs(27);t.xp6(10),t.Q6J("ngClass","all"==e.activeFilter?"selected":""),t.xp6(3),t.Q6J("ngClass","invite"==e.activeFilter?"selected":""),t.xp6(3),t.Q6J("ngClass","accept"==e.activeFilter?"selected":""),t.xp6(3),t.Q6J("ngClass","decline"==e.activeFilter?"selected":""),t.xp6(4),t.Q6J("matMenuTriggerFor",o),t.xp6(28),t.lnq("",e.startNumber+1,"-",e.endNumber," of ",e.filteredMail.length,""),t.xp6(6),t.Q6J("ngForOf",t.Dn7(58,9,e.filteredMail,e.startNumber,10))}},dependencies:[l.mk,l.sg,l.O5,D.Hw,u.lW,u.RK,y.KE,y.hX,y.R9,I.Nt,nt.ib,nt.yz,w.VK,w.OP,w.p6,l.OU],styles:[".container[_ngcontent-%COMP%]{width:calc(100% - 4rem);padding:1rem 2rem;display:flex;flex-direction:column}.top-container[_ngcontent-%COMP%], .top-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.top-container[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.top-container[_ngcontent-%COMP%]   .button-holder[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:200px;margin:0rem 1rem;margin-bottom:24px;padding:1.5rem 1rem;background-color:var(--color-1);box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.5);color:var(--color-4);font-weight:600;font-size:1.2rem}.top-container[_ngcontent-%COMP%]   .button-holder[_ngcontent-%COMP%] > .selected[_ngcontent-%COMP%]{background-color:var(--color-4);color:var(--color-1)}.filter[_ngcontent-%COMP%]{display:none!important}.filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-weight:500;color:var(--color-4);height:56px!important;width:56px!important;padding:auto;margin-bottom:24px;margin-left:8px}.filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;font-size:28px;line-height:28px}.filter-item[_ngcontent-%COMP%]{display:inline-block;margin:1rem 2rem}  .mat-badge-content{background-color:#ff2c2c!important;color:var(--color-1)!important;font-size:.75rem!important}.mid-container[_ngcontent-%COMP%], .mid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.mid-container[_ngcontent-%COMP%]{background-color:var(--color-1);box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.5)}.mid-container[_ngcontent-%COMP%] > .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mid-container[_ngcontent-%COMP%] > .page[_ngcontent-%COMP%]{color:var(--color-4);font-weight:600}.email-holder[_ngcontent-%COMP%] > mat-expansion-panel[_ngcontent-%COMP%]{margin:.5rem 0rem}.email-holder[_ngcontent-%COMP%] > mat-expansion-panel[_ngcontent-%COMP%] > mat-expansion-panel-header[_ngcontent-%COMP%]{height:4rem}.email-holder[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%], .email-holder[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center}.email-holder[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%] > .date[_ngcontent-%COMP%]{color:var(--color-4);font-size:1.2rem}.email-holder[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%], .email-holder[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%] > .description[_ngcontent-%COMP%]{color:var(--color-4);font-size:1.2rem}.email-holder[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-weight:600}.email-holder[_ngcontent-%COMP%]   .email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%] > .description[_ngcontent-%COMP%]{margin-right:1rem}.email-holder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.email-holder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0rem 1rem;padding:1.25rem 1rem;background-color:var(--color-1);box-shadow:2px 2px 2px 0 rgba(var(--color-4-rgb),.5);color:var(--color-4);font-weight:600;font-size:1rem}.email-holder[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .accept[_ngcontent-%COMP%]{background-color:var(--color-4);color:var(--color-1)}.email-holder[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}@media screen and (max-width: 1300px){.top-container[_ngcontent-%COMP%]{flex-direction:column}.top-container[_ngcontent-%COMP%]   .button-holder[_ngcontent-%COMP%]{width:calc(100% + 2rem)}.top-container[_ngcontent-%COMP%]   .button-holder[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 768px){.top-container[_ngcontent-%COMP%]{flex-direction:row}.top-container[_ngcontent-%COMP%]   .button-holder[_ngcontent-%COMP%]{display:none}.filter[_ngcontent-%COMP%]{display:block!important}.email-info[_ngcontent-%COMP%] > .date[_ngcontent-%COMP%]{font-size:.8rem!important}.email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%]{flex-direction:column!important}.email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-size:1rem!important}.email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%] > .description[_ngcontent-%COMP%]{font-size:.8rem!important;margin-right:0rem!important}.email-info[_ngcontent-%COMP%] > .title-description[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start}.content[_ngcontent-%COMP%]{width:100%;flex-direction:column!important;align-items:flex-start!important}.content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:1rem}}"]});class G{}G.\u0275fac=function(n){return new(n||G)},G.\u0275cmp=t.Xpm({type:G,selectors:[["app-recycle"]],decls:2,vars:0,template:function(n,e){1&n&&(t.TgZ(0,"h1"),t._uU(1,"COMING SOON"),t.qZA())},styles:["h1[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:center}"]});var st=c(3267),xe=c(4850);const ye=function(i){return["/profile",i]},Te=function(){return["/main","documents","owned"]},we=function(){return["/main","documents","shared"]},Ze=function(){return["/main","documents","bin"]},Ee=function(){return["/main","mail"]},Ue=function(){return["/community"]};class B{constructor(n,e,o,r){this.route=n,this.store=e,this.authService=o,this.changeDetectorRef=r,this.sidebarToggle=!0,this.activeLink="",this.navigateItems=[{icon:"contact_page",title:"Documents",link:"documents/owned",active:!0},{icon:"description",title:"Shared Documents",link:"documents/shared",active:!1},{icon:"star",title:"Favorites",link:"documents/favorite",active:!1},{icon:"delete",title:"Recyle bin",link:"recycle",active:!1},{icon:"mail",title:"Mail",link:"mail",active:!1}],this.document$=this.store.select("doc");let s=this.route.url.split("/");this.activeLink=null==s[3]?s[2]:`${s[2]}/${s[3]}`,this.navigateItems.forEach(a=>{a.active=a.link==this.activeLink})}ngOnInit(){this.currentUser=this.authService.currentUser,this.innerWidth=window.innerWidth}navigate(n){this.navigateItems.forEach(e=>{e.active=e.link==n}),this.route.navigate([`main/${n}`])}logout(){this.authService.logout()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}onResize(){this.innerWidth=window.innerWidth}}B.\u0275fac=function(n){return new(n||B)(t.Y36(v.F0),t.Y36(F.yh),t.Y36(Q.e),t.Y36(t.sBO))},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-main"]],hostBindings:function(n,e){1&n&&t.NdJ("resize",function(r){return e.onResize(r)},!1,t.Jf7)},decls:74,vars:31,consts:[["mat-icon-button","","matTooltip","Menu",3,"click"],[1,"write"],[1,"flow"],[1,"toolbar-item-spacer"],["mat-icon-button","","matTooltip","Notifications"],["mat-icon-button","","matTooltip","My Account",3,"matMenuTriggerFor"],["yPosition","below",3,"overlapTrigger"],["userAccountMenu",""],["mat-menu-item","",3,"routerLink"],["mat-menu-item","","routerLink","#"],["mat-menu-item","",3,"click"],[1,"mat-toolbar-height"],[1,"app-container"],[1,"app-sidenav",3,"mode"],["sidenav",""],["mat-list-item","",1,"list-item",3,"routerLink","disabled"],["matListItemIcon",""],["matListItemTitle",""],["mat-list-item","",1,"list-item",3,"routerLink"],["mat-button","",1,"side-bar-button",3,"routerLink"]],template:function(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"mat-toolbar")(1,"button",0),t.NdJ("click",function(){t.CHM(o);const s=t.MAs(35);return t.KtG(s.toggle())}),t.TgZ(2,"mat-icon"),t._uU(3,"menu"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5,"Write"),t.TgZ(6,"span",2),t._uU(7,"Flow"),t.qZA()(),t._UZ(8,"span",3),t.TgZ(9,"button",4)(10,"mat-icon"),t._uU(11,"notifications"),t.qZA()(),t.TgZ(12,"button",5)(13,"mat-icon"),t._uU(14,"account_circle"),t.qZA()(),t.TgZ(15,"mat-menu",6,7)(17,"button",8)(18,"mat-icon"),t._uU(19,"person"),t.qZA(),t.TgZ(20,"span"),t._uU(21,"My Account"),t.qZA()(),t.TgZ(22,"button",9)(23,"mat-icon"),t._uU(24,"settings"),t.qZA(),t.TgZ(25,"span"),t._uU(26,"Settings"),t.qZA()(),t.TgZ(27,"button",10),t.NdJ("click",function(){return e.logout()}),t.TgZ(28,"mat-icon"),t._uU(29,"exit_to_app"),t.qZA(),t.TgZ(30,"span"),t._uU(31,"Logout"),t.qZA()()()(),t._UZ(32,"div",11),t.TgZ(33,"mat-sidenav-container",12)(34,"mat-sidenav",13,14)(36,"mat-nav-list")(37,"mat-expansion-panel")(38,"mat-expansion-panel-header"),t._uU(39," Document "),t.qZA(),t.TgZ(40,"mat-nav-list")(41,"a",15),t.ALo(42,"async"),t.TgZ(43,"mat-icon",16),t._uU(44,"description"),t.qZA(),t.TgZ(45,"span",17),t._uU(46,"My document"),t.qZA()(),t.TgZ(47,"a",15),t.ALo(48,"async"),t.TgZ(49,"mat-icon",16),t._uU(50,"contact_page"),t.qZA(),t.TgZ(51,"span",17),t._uU(52,"Shared document"),t.qZA()(),t.TgZ(53,"a",15),t.ALo(54,"async"),t.TgZ(55,"mat-icon",16),t._uU(56,"delete"),t.qZA(),t.TgZ(57,"span",17),t._uU(58,"Recycle bin"),t.qZA()()()(),t.TgZ(59,"mat-expansion-panel")(60,"mat-expansion-panel-header"),t._uU(61," Mail "),t.qZA(),t.TgZ(62,"mat-nav-list")(63,"a",18)(64,"mat-icon",16),t._uU(65,"mail"),t.qZA(),t.TgZ(66,"span",17),t._uU(67,"Inbox"),t.qZA()()()(),t._UZ(68,"mat-divider"),t.TgZ(69,"button",19)(70,"span"),t._uU(71," Community "),t.qZA()()()(),t.TgZ(72,"mat-sidenav-content"),t._UZ(73,"router-outlet"),t.qZA()()}if(2&n){const o=t.MAs(16);let r,s,a;t.xp6(12),t.Q6J("matMenuTriggerFor",o),t.xp6(3),t.Q6J("overlapTrigger",!1),t.xp6(2),t.Q6J("routerLink",t.VKq(24,ye,e.currentUser.uid)),t.xp6(17),t.ekj("mat-elevation-z4",!0),t.Q6J("mode",e.innerWidth<=1100?"over":"side"),t.xp6(3),t.ekj("mat-elevation-z0",!0),t.xp6(4),t.Q6J("routerLink",t.DdM(26,Te))("disabled",null==(r=t.lcZ(42,18,e.document$))?null:r.loading),t.xp6(6),t.Q6J("routerLink",t.DdM(27,we))("disabled",null==(s=t.lcZ(48,20,e.document$))?null:s.loading),t.xp6(6),t.Q6J("routerLink",t.DdM(28,Ze))("disabled",null==(a=t.lcZ(54,22,e.document$))?null:a.loading),t.xp6(6),t.ekj("mat-elevation-z0",!0),t.xp6(4),t.Q6J("routerLink",t.DdM(29,Ee)),t.xp6(6),t.Q6J("routerLink",t.DdM(30,Ue))}},dependencies:[v.lC,v.rH,lt.Ye,D.Hw,u.lW,u.RK,nt.ib,nt.yz,st.JX,st.TM,st.Rh,V.Hk,V.Tg,V.Yt,xe.d,V.sL,w.VK,w.OP,w.p6,W.gM,l.Ov],styles:['mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-1);box-shadow:0 0 4px 0 rgba(var(--color-4-rgb),.5);position:fixed;z-index:9999}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--color-4);margin:0rem .25rem}  .mat-icon-no-color{color:var(--color-4)!important}.mat-toolbar-height[_ngcontent-%COMP%]{height:64px}@media screen and (max-width: 600px){.mat-toolbar-height[_ngcontent-%COMP%]{height:56px}}.toolbar-item-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-container[_ngcontent-%COMP%]{height:calc(100% - 64px);margin:0}.app-sidenav[_ngcontent-%COMP%]{width:300px}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}mat-expansion-panel-header[_ngcontent-%COMP%]{color:var(--color-4);font-weight:600;font-size:1.1rem}mat-nav-list[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{color:var(--color-4);font-weight:500;font-size:1rem}mat-nav-list[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--color-4)}.side-bar-button[_ngcontent-%COMP%]{width:100%;height:48px;padding:0 24px;margin:.5rem 0;display:flex;justify-content:flex-start;align-items:center}.side-bar-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Open sans,"sans-serif";color:var(--color-4);font-weight:500;font-size:1.1rem}  .mdc-list-item__primary-text{color:var(--color-4)!important}.write[_ngcontent-%COMP%], .flow[_ngcontent-%COMP%]{font-size:1.5rem}.write[_ngcontent-%COMP%]{font-weight:500;color:var(--color-4)}.flow[_ngcontent-%COMP%]{font-weight:700;color:var(--color-4)}@media screen and (max-width: 600px){.app-sidenav[_ngcontent-%COMP%]{width:250px}mat-expansion-panel-header[_ngcontent-%COMP%]{font-size:.8rem}mat-nav-list[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%]{font-size:.75rem}mat-nav-list[_ngcontent-%COMP%] > .list-item[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:1rem;line-height:1rem;margin:0 10px}}@media screen and (max-width: 400px){.write[_ngcontent-%COMP%], .flow[_ngcontent-%COMP%]{display:none!important}}']});const ke=[{path:"",component:B,runGuardsAndResolvers:"always",children:[{path:"",redirectTo:"documents/owned",pathMatch:"full"},{path:"documents/:type",component:H,runGuardsAndResolvers:"always"},{path:"mail",component:$},{path:"recycle",component:G}]},{path:"document/edit",component:R,runGuardsAndResolvers:"always"}];class q{}q.\u0275fac=function(n){return new(n||q)},q.\u0275mod=t.oAB({type:q}),q.\u0275inj=t.cJS({imports:[v.Bz.forChild(ke),v.Bz]});var Ae=c(9717),De=c(2271);class S{}S.\u0275fac=function(n){return new(n||S)},S.\u0275mod=t.oAB({type:S}),S.\u0275inj=t.cJS({imports:[l.ez,q,Ae.h,De.m,P.u5,jt.forRoot()]})},9709:(at,A,c)=>{c.d(A,{K:()=>C});var l=c(5861),v=c(529),b=c(9808),N=c(2340),T=c(4650),O=c(7556);class C{constructor(t,u){this.authService=t,this.http=u,this.apiURL=N.N.apiURL}getUser(t){return(0,b.n)(this.http.get(`${this.apiURL}/user?uid=${t}`))}createUser(t){this.http.post(`${this.apiURL}/user/register`,t).subscribe(u=>{console.log(u)})}updateUser(t){var u=this;return(0,l.Z)(function*(){return console.log(t),yield(0,b.n)(u.http.put(`${u.apiURL}/user/update`,t,{headers:new v.WM({authorization:u.authService.getToken(),ownerid:u.authService.currentUser?.uid})}))})()}updateUserAvatar(t){var u=this;return(0,l.Z)(function*(){let y=new FormData;return y.append("file-avatar",t),yield(0,b.n)(u.http.put(`${u.apiURL}/user/upload-avatar`,y,{headers:new v.WM({authorization:u.authService.getToken(),ownerid:u.authService.currentUser?.uid})}))})()}updateBannerAvatar(t){var u=this;return(0,l.Z)(function*(){let y=new FormData;return y.append("file-banner",t),yield(0,b.n)(u.http.put(`${u.apiURL}/user/upload-banner`,y,{headers:new v.WM({authorization:u.authService.getToken(),ownerid:u.authService.currentUser?.uid})}))})()}}C.\u0275fac=function(t){return new(t||C)(T.LFG(O.e),T.LFG(v.eN))},C.\u0275prov=T.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}}]);